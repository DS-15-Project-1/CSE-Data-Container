version: '3'

services:
  converter:
    build: .
    container_name: "miniseed-to-parquet-converter-ZZ"
    volumes:
      - /mnt/data:/mnt/data
      - /mnt/code/output:/mnt/code/output
    command: python /app/main.py
    deploy:
      resources:
        limits:
          memory: 3G

volumes:
  input_data:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: /mnt/data

  output_data:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: /mnt/code/output
